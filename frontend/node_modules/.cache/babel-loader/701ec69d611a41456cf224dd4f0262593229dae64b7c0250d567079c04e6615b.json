{"ast":null,"code":"// ForgotPassword.js\nimport React,{useState}from'react';import axios from'axios';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const ForgotPassword=()=>{const[email,setEmail]=useState('');const[newPassword,setNewPassword]=useState('');const[confirmPassword,setConfirmPassword]=useState('');const[message,setMessage]=useState('');const[showPasswordFields,setShowPasswordFields]=useState(false);const handleCheckEmail=async e=>{e.preventDefault();try{// Check if the email exists\nconst emailCheckResponse=await axios.post('http://localhost:3001/api/check-email',{email});if(emailCheckResponse.data.exists){// Email exists, show new password and confirm password fields\nsetShowPasswordFields(true);}else{setMessage('Email not found.');}}catch(error){console.error('Error checking email:',error.message);setMessage('An error occurred while checking the email.');}};const handleResetPassword=async e=>{e.preventDefault();try{// Proceed with password reset logic\nif(newPassword===confirmPassword){// Make an API request to update the new password in the database\nconst updateResponse=await axios.post('http://localhost:3001/api/update-password',{email,newPassword});setMessage(updateResponse.data.message);// If the password is updated successfully, reload the page\nif(updateResponse.data.success){window.location.reload();}}else{setMessage('Passwords do not match.');}}catch(error){console.error('Error resetting password:',error.message);setMessage('An error occurred while resetting the password.');}};return/*#__PURE__*/_jsx(\"div\",{style:styles.container,children:/*#__PURE__*/_jsxs(\"div\",{style:styles.formContainer,children:[/*#__PURE__*/_jsx(\"h2\",{style:styles.title,children:\"Forgot Password\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleCheckEmail,style:styles.form,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",style:styles.label,children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",value:email,onChange:e=>setEmail(e.target.value),required:true,style:styles.input}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:styles.button,children:\"Check Email\"})]}),showPasswordFields&&/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleResetPassword,style:styles.form,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"newPassword\",style:styles.label,children:\"New Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"newPassword\",value:newPassword,onChange:e=>setNewPassword(e.target.value),required:true,style:styles.input}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"confirmPassword\",style:styles.label,children:\"Confirm Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"confirmPassword\",value:confirmPassword,onChange:e=>setConfirmPassword(e.target.value),required:true,style:styles.input}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:styles.button,children:\"Reset Password\"})]}),/*#__PURE__*/_jsx(\"p\",{style:styles.message,children:message}),/*#__PURE__*/_jsx(Link,{to:\"/\",style:styles.link,children:\"Back to Login\"})]})});};const styles={container:{display:'flex',justifyContent:'center',alignItems:'center',height:'100vh',background:'#000',color:'#fff'},formContainer:{width:'400px',padding:'20px',boxShadow:'0 0 10px rgba(255, 255, 255, 0.1)',borderRadius:'8px'},title:{fontSize:'24px',marginBottom:'20px',textAlign:'center'},form:{marginBottom:'20px'},label:{display:'block',marginBottom:'8px'},input:{width:'100%',padding:'8px',marginBottom:'16px',border:'1px solid #fff',borderRadius:'4px',boxSizing:'border-box',color:'#000'},button:{width:'100%',padding:'10px',backgroundColor:'#fff',color:'#000',border:'none',borderRadius:'4px',cursor:'pointer'},message:{marginBottom:'16px',textAlign:'center'},link:{display:'block',textAlign:'center',color:'#fff',textDecoration:'none'}};export default ForgotPassword;","map":{"version":3,"names":["React","useState","axios","Link","jsx","_jsx","jsxs","_jsxs","ForgotPassword","email","setEmail","newPassword","setNewPassword","confirmPassword","setConfirmPassword","message","setMessage","showPasswordFields","setShowPasswordFields","handleCheckEmail","e","preventDefault","emailCheckResponse","post","data","exists","error","console","handleResetPassword","updateResponse","success","window","location","reload","style","styles","container","children","formContainer","title","onSubmit","form","htmlFor","label","type","id","value","onChange","target","required","input","button","to","link","display","justifyContent","alignItems","height","background","color","width","padding","boxShadow","borderRadius","fontSize","marginBottom","textAlign","border","boxSizing","backgroundColor","cursor","textDecoration"],"sources":["C:/Users/HP/Desktop/LMS2/frontend/src/components/ForgotPassword.js"],"sourcesContent":["// ForgotPassword.js\r\nimport React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst ForgotPassword = () => {\r\n  const [email, setEmail] = useState('');\r\n  const [newPassword, setNewPassword] = useState('');\r\n  const [confirmPassword, setConfirmPassword] = useState('');\r\n  const [message, setMessage] = useState('');\r\n  const [showPasswordFields, setShowPasswordFields] = useState(false);\r\n\r\n  const handleCheckEmail = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      // Check if the email exists\r\n      const emailCheckResponse = await axios.post('http://localhost:3001/api/check-email', { email });\r\n\r\n      if (emailCheckResponse.data.exists) {\r\n        // Email exists, show new password and confirm password fields\r\n        setShowPasswordFields(true);\r\n      } else {\r\n        setMessage('Email not found.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error checking email:', error.message);\r\n      setMessage('An error occurred while checking the email.');\r\n    }\r\n  };\r\n\r\n  const handleResetPassword = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      // Proceed with password reset logic\r\n      if (newPassword === confirmPassword) {\r\n        // Make an API request to update the new password in the database\r\n        const updateResponse = await axios.post('http://localhost:3001/api/update-password', {\r\n          email,\r\n          newPassword,\r\n        });\r\n\r\n        setMessage(updateResponse.data.message);\r\n\r\n        // If the password is updated successfully, reload the page\r\n        if (updateResponse.data.success) {\r\n          window.location.reload();\r\n        }\r\n      } else {\r\n        setMessage('Passwords do not match.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error resetting password:', error.message);\r\n      setMessage('An error occurred while resetting the password.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      <div style={styles.formContainer}>\r\n        <h2 style={styles.title}>Forgot Password</h2>\r\n        <form onSubmit={handleCheckEmail} style={styles.form}>\r\n          <label htmlFor=\"email\" style={styles.label}>\r\n            Email:\r\n          </label>\r\n          <input\r\n            type=\"email\"\r\n            id=\"email\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            required\r\n            style={styles.input}\r\n          />\r\n          <button type=\"submit\" style={styles.button}>\r\n            Check Email\r\n          </button>\r\n        </form>\r\n\r\n        {showPasswordFields && (\r\n          <form onSubmit={handleResetPassword} style={styles.form}>\r\n            <label htmlFor=\"newPassword\" style={styles.label}>\r\n              New Password:\r\n            </label>\r\n            <input\r\n              type=\"password\"\r\n              id=\"newPassword\"\r\n              value={newPassword}\r\n              onChange={(e) => setNewPassword(e.target.value)}\r\n              required\r\n              style={styles.input}\r\n            />\r\n            <label htmlFor=\"confirmPassword\" style={styles.label}>\r\n              Confirm Password:\r\n            </label>\r\n            <input\r\n              type=\"password\"\r\n              id=\"confirmPassword\"\r\n              value={confirmPassword}\r\n              onChange={(e) => setConfirmPassword(e.target.value)}\r\n              required\r\n              style={styles.input}\r\n            />\r\n            <button type=\"submit\" style={styles.button}>\r\n              Reset Password\r\n            </button>\r\n          </form>\r\n        )}\r\n\r\n        <p style={styles.message}>{message}</p>\r\n        <Link to=\"/\" style={styles.link}>\r\n          Back to Login\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst styles = {\r\n  container: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    height: '100vh',\r\n    background: '#000',\r\n    color: '#fff',\r\n  },\r\n  formContainer: {\r\n    width: '400px',\r\n    padding: '20px',\r\n    boxShadow: '0 0 10px rgba(255, 255, 255, 0.1)',\r\n    borderRadius: '8px',\r\n  },\r\n  title: {\r\n    fontSize: '24px',\r\n    marginBottom: '20px',\r\n    textAlign: 'center',\r\n  },\r\n  form: {\r\n    marginBottom: '20px',\r\n  },\r\n  label: {\r\n    display: 'block',\r\n    marginBottom: '8px',\r\n  },\r\n  input: {\r\n    width: '100%',\r\n    padding: '8px',\r\n    marginBottom: '16px',\r\n    border: '1px solid #fff',\r\n    borderRadius: '4px',\r\n    boxSizing: 'border-box',\r\n    color: '#000',\r\n  },\r\n  button: {\r\n    width: '100%',\r\n    padding: '10px',\r\n    backgroundColor: '#fff',\r\n    color: '#000',\r\n    border: 'none',\r\n    borderRadius: '4px',\r\n    cursor: 'pointer',\r\n  },\r\n  message: {\r\n    marginBottom: '16px',\r\n    textAlign: 'center',\r\n  },\r\n  link: {\r\n    display: 'block',\r\n    textAlign: 'center',\r\n    color: '#fff',\r\n    textDecoration: 'none',\r\n  },\r\n};\r\n\r\nexport default ForgotPassword;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}